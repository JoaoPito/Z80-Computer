JP Program

SerialOut:;LSB First
LD B,A
RES 2,B ;CLK LOW
LD (HL),B ;ENVIA O 1º BIT(CLK LOW)
SET 2,B ;CLK HIGH
LD (HL),B ;ENVIA O 1º BIT(CLK HIGH)
RRA ;COMECA A PROCESSAR O 2º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RRA ;COMECA A PROCESSAR O 4º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RRA ;COMECA A PROCESSAR O 5º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RRA ;COMECA A PROCESSAR O 6º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RRA ;COMECA A PROCESSAR O 7º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RRA ;COMECA A PROCESSAR O 8º BIT
LD B,A
RES 2,B
LD (HL),B
SET 2,B
LD (HL),B
RET

Program:
LD SP,9000
LD A,4AH
LD HL,2000H
CALL SerialOut
FinalLoop:
JP FinalLoop